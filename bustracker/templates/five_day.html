{% extends "base.html" %}
{% block title %}Five day timetable{% endblock title %}
{% block sidebar %}

{% endblock %}
{% block content %}
    {% for period in route_data %}
        <h2 id="{{period.slug}}" style="cursor:pointer;"><img id="{{period.slug}}_image" src="{{STATIC_URL}}images/plus.png"> {{ period.title }}</h2>
        <div id="{{period.slug}}_content" style="display:none;">
        {% for route in period.routes %}
            {% include "route_journey_table.html" with journey=route %}
        {% endfor %}
        </div>
    {% endfor %}
    <form action="" method="post">
        {% csrf_token %}
        {{postcode_form.postcode.errors}}
        Postcode: {{postcode_form.postcode}}
        {% for field in five_day_form %}
            {{field.errors}}
        {% endfor %}
        <h3>Monday</h3>
        From {{five_day_form.mon_morn}} to {{five_day_form.mon_eve}}
        <h3>Tuesday</h3>
        From {{five_day_form.tue_morn}} to {{five_day_form.tue_eve}}
        <h3>Wednesday</h3>
        From {{five_day_form.wed_morn}} to {{five_day_form.wed_eve}}
        <h3>Thursday</h3>
        From {{five_day_form.thu_morn}} to {{five_day_form.thu_eve}}
        <h3>Friday</h3>
        From {{five_day_form.fri_morn}} to {{five_day_form.fri_eve}}

        <br/>
        <input type="submit" value="Submit">
    </form>
{% endblock %}

{% block extrafoot %}
<!-- Five_day.html JS -->
<script type="text/javascript">
    $(document).ready(function(){
        {% for period in route_data %}
            $("#{{period.slug}}").click(function(){
                $("#{{period.slug}}_content").slideToggle();
                if ($("#{{period.slug}}_image").attr("src") == "{{STATIC_URL}}images/minus.png")
                {
                    $("#{{period.slug}}_image").attr("src","{{STATIC_URL}}images/plus.png");
                } else {
                    $("#{{period.slug}}_image").attr("src","{{STATIC_URL}}images/minus.png");
                }
            });
            {% endfor %}
            {% for time in time_fields %}
                $("#id_{{time}}").timepicker({
                                                        defaultTime: '12:34'
                                                    });
            {% endfor %}
        });
</script>
{% endblock %}